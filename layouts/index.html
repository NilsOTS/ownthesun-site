{{ define "main" }}
<section>
    Erlebe die Kraft der Sonne in Deinem Zuhause.<br>
    Nachhaltige Energie für eine strahlende Zukunft.
  </p>

  <div class="cta-wrapper">
    <button id="openModalBtn" class="cta-button">Jetzt anfragen</button>
  </div>

  <section style="margin-top: 40px;">
    <h2>Warum Own The Sun?</h2>
    <ul>
      <li>Premium-Qualität: bis zu 30 Jahre Leistungsgarantie & geprüfte Partner</li>
      <li>Alles aus einer Hand und einem System: PV-Anlage, Speicher, Wärmepumpe, Wallbox, EMS</li>
      <li>Individuelle Beratung – persönlich, digital oder telefonisch</li>
      <li>Volle Sicherheit: Keine Vorkasse, Zahlung nach Leistung, zertifizierte Prozesse</li>
    </ul>
  </section>

  <section style="margin-top: 40px;">
    <h2>So läuft's ab</h2>
    <ol>
      <li><strong>Beratung:</strong> Sie schildern uns Ihr Projekt, wir analysieren Ihr Dach & Bedarf</li>
      <li><strong>Angebot:</strong> Sie erhälten ein individuelles, transparentes Angebot</li>
      <li><strong>Installation:</strong> Umsetzung durch geprüfte Meisterbetriebe vor Ort</li>
      <li><strong>Service:</strong> Support & Monitoring – auch nach dem Kauf, immer nur ein regionaler Ansprechpartner</li>
    </ol>
  </section>

  </section>

<!-- Kontaktformular (Modal) -->
<div id="kontaktModal" class="modal" style="display:none;">
  <div class="modal-content">
    <span class="close" onclick="closeModal('kontaktModal')">&times;</span>
    <form id="contactForm" name="Kontakt" method="POST" data-netlify="false" style="display:flex;flex-direction:column;gap:14px;" autocomplete="off">
      <h2>Kontakt aufnehmen</h2>
      <label>Name:<br>
        <input type="text" name="Name" required>
      </label>
      <label>E-Mail:<br>
        <input type="email" name="E-Mail" required>
      </label>
      <label>Telefonnummer (optional):<br>
        <input type="tel" name="Telefonnummer" pattern="^(\+49|0)[1-9]\d{7,14}$">
      </label>
      <label>Nachricht:<br>
        <textarea name="Nachricht" required></textarea>
      </label>
      <label class="dsgvo-checkbox">
        <input id="dsgvo" type="checkbox" name="DSGVO" required>
        Ich habe die <a href="/datenschutz/" target="_blank">Datenschutzerklärung</a> gelesen und akzeptiere sie.
      </label>
      <div class="dsgvo-trust">
        <strong>Deine Daten sind sicher:</strong><br>100 % DSGVO-konform.
      </div>
      <div style="display:flex;gap:12px;margin-top:8px;">
        <button type="submit">Absenden</button>
        <button type="button" onclick="closeModal('kontaktModal')" style="background:#eee;color:#003366;">Abbrechen</button>
      </div>
    </form>
  </div>
</div>

<script>
document.getElementById('openModalBtn').onclick = function() {
  openModal('kontaktModal');
};
function openModal(modalId) {
  document.getElementById(modalId).style.display = 'block';
  document.body.style.overflow = 'hidden';
  setTimeout(() => {
    window.onclick = function(event) {
      var modal = document.getElementById(modalId);
      if (event.target === modal) { modal.style.display = 'none'; document.body.style.overflow=''; }
    };
  }, 1);
}
function closeModal(modalId) {
  document.getElementById(modalId).style.display = 'none';
  document.body.style.overflow = '';
  window.onclick = null;
}
</script>
{{ end }}
